"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[206],{7206:(pe,N,a)=>{a.r(N),a.d(N,{AuthModule:()=>he});var p=a(8692),_=a(4929),v=a(6321),e=a(4537),Y=a(9018),M=a(8023);const Z=(0,v.i$)({passive:!0});let z=(()=>{class r{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Y.E;const i=(0,_.fI)(t),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new M.x,m="cdk-text-field-autofilled",y=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(m)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(m)&&(i.classList.remove(m),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!1}))):(i.classList.add(m),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",y,Z),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",y,Z)}}),l}stopMonitoring(t){const i=(0,_.fI)(t),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v.t4),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),H=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var s=a(9900),C=a(1379),d=a(8659);const J=new e.OlP("MAT_INPUT_VALUE_ACCESSOR"),j=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let K=0;const Q=(0,C.FD)(class{constructor(r,n,t,i){this._defaultErrorStateMatcher=r,this._parentForm=n,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new M.x}});let S=(()=>{class r extends Q{constructor(t,i,o,l,m,y,g,ce,fe,B){super(y,l,m,o),this._elementRef=t,this._platform=i,this._autofillMonitor=ce,this._formField=B,this._uid="mat-input-"+K++,this.focused=!1,this.stateChanges=new M.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>(0,v.qK)().has(F)),this._iOSKeyupListener=F=>{const E=F.target;!E.value&&0===E.selectionStart&&0===E.selectionEnd&&(E.setSelectionRange(1,1),E.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,V=I.nodeName.toLowerCase();this._inputValueAccessor=g||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&fe.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!B,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,_.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(s.kI.required)??!1}set required(t){this._required=(0,_.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,v.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,_.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=i,i?o.setAttribute("placeholder",i):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){j.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(v.t4),e.Y36(s.a5,10),e.Y36(s.F,8),e.Y36(s.sg,8),e.Y36(C.rD),e.Y36(J,10),e.Y36(z),e.Y36(e.R0b),e.Y36(d.G_,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(e.Ikx("disabled",i.disabled)("required",i.required),e.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),e.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[e._Bn([{provide:d.Eo,useExisting:r}]),e.qOj,e.TTD]}),r})(),X=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[C.rD],imports:[H,d.lN,C.BQ,H,d.lN]}),r})();var T=a(9638),$=a(2355),h=a(2293),L=a(4762),w=a(3804),k=a(9676),b=a(3288);const R="NoPasswordMatch";class x{static patternValidator(n,t){return i=>null===i.value||n.test(i.value)?null:t}static passwordMatchValidator(n){const t=n.get("password"),i=n.get("confirmPassword");if(null===t)throw new Error("There isn't password control");if(null===i)throw new Error("There isn't confirmPassword control");const m=t.value!==i.value;return m?(i.setErrors({[R]:!0}),{[R]:m}):null}}var u=(()=>{return(r=u||(u={})).MinLength="minlength",r.HasNumber="hasNumber",r.HasLowerCase="hasLowerCase",r.HasUpperCase="hasUpperCase",r.HasSpecialCharacter="hasSpecialCharacter",u;var r})();const U=[s.kI.required,s.kI.minLength(8),s.kI.maxLength(128),x.patternValidator(RegExp("\\d"),{[u.HasNumber]:!0}),x.patternValidator(RegExp("[a-z]"),{[u.HasLowerCase]:!0}),x.patternValidator(RegExp("[A-Z]"),{[u.HasUpperCase]:!0}),x.patternValidator(RegExp("[()[\\]{}|`~!@#$%^&*_\\-+=;:'\",<>./?]"),{[u.HasSpecialCharacter]:!0})],P=[s.kI.required,s.kI.email],A="serverError";function D(r,n){Object.keys(r).forEach(t=>{const i=n.get(t),o=r[t];void 0!==o&&(null!==i?i.setErrors({[A]:o}):n.setErrors({[A]:o}))})}var G=a(3568),W=a(9263);function O(r){return(0,G.K)(n=>{if(n instanceof W.k)return r(n);throw n})}var q=a(4358);function ee(r,n){if(1&r&&(e.TgZ(0,"mat-error",9),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.loginForm.getError(t.serverErrorKey)," ")}}let c=class{constructor(n,t,i,o,l){this.formBuilder=n,this.router=t,this.route=i,this.authService=o,this.changeDetectorRef=l,this.routePaths=b.X,this.loginForm=this.formBuilder.nonNullable.group({email:["",P],password:["",U]}),this.serverErrorKey=A}onSubmit(){if(!this.loginForm.valid)return;const n=this.loginForm.value;void 0!==n.email&&void 0!==n.password&&this.authService.login({email:n.email,password:n.password}).pipe((0,k.P)(),O(i=>{throw D(i.validationErrors,this.loginForm),this.changeDetectorRef.markForCheck(),i}),(0,w.t)(this)).subscribe(()=>{let i=this.route.snapshot.queryParamMap.get("next");null===i&&(i=b.X.home),this.router.navigate([i])})}};function te(r,n){1&r&&(e.TgZ(0,"mat-error",15),e._uU(1," Enter valid email "),e.qZA())}function re(r,n){if(1&r&&(e.TgZ(0,"mat-error",15),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.registrationForm.controls.email.getError(t.serverErrorKey)," ")}}function ie(r,n){1&r&&(e.TgZ(0,"mat-error",15),e._uU(1," Max length for first name is 32. "),e.qZA())}function ne(r,n){if(1&r&&(e.TgZ(0,"mat-error",15),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.registrationForm.controls.firstName.getError(t.serverErrorKey)," ")}}function oe(r,n){1&r&&(e.TgZ(0,"mat-error",15),e._uU(1," Max length for last name is 32. "),e.qZA())}function se(r,n){if(1&r&&(e.TgZ(0,"mat-error",15),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.registrationForm.controls.lastName.getError(t.serverErrorKey)," ")}}function ae(r,n){if(1&r&&(e.TgZ(0,"mat-error",15),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.registrationForm.controls.password.getError(t.serverErrorKey)," ")}}function le(r,n){if(1&r&&(e.TgZ(0,"li",16)(1,"em",17),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&r){const t=n.$implicit,i=e.oxw();e.Q6J("ngClass",i.registrationForm.controls.password.hasError(t.key)||i.registrationForm.controls.password.hasError("required")?"text-danger":"text-success"),e.xp6(2),e.hij(" ",i.registrationForm.controls.password.hasError(t.key)||i.registrationForm.controls.password.hasError("required")?"cancel":"check_circle"," "),e.xp6(1),e.hij(" ",t.value," ")}}function ue(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Enter same password "),e.qZA())}c.\u0275fac=function(n){return new(n||c)(e.Y36(s.qu),e.Y36(h.F0),e.Y36(h.gz),e.Y36(q.e),e.Y36(e.sBO))},c.\u0275cmp=e.Xpm({type:c,selectors:[["anime-login"]],decls:18,vars:4,consts:[[1,"form-wrapper"],[1,"form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","email","type","email","name","email","placeholder","example@domain.com"],["matInput","","type","password","formControlName","password","name","password","autocomplete","current-password"],["class","form__base-errors",4,"ngIf"],[1,"form__controls"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"routerLink"],[1,"form__base-errors"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",3),e.qZA(),e.TgZ(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",4),e.qZA(),e.YNc(12,ee,2,1,"mat-error",5),e.TgZ(13,"div",6)(14,"button",7),e._uU(15,"Submit"),e.qZA(),e.TgZ(16,"a",8),e._uU(17,"Dont have an account?"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("formGroup",t.loginForm),e.xp6(9),e.Q6J("ngIf",t.loginForm.hasError(t.serverErrorKey)),e.xp6(2),e.Q6J("disabled",t.loginForm.invalid),e.xp6(2),e.Q6J("routerLink",t.routePaths.registration))},dependencies:[p.O5,h.yS,d.TO,d.KE,d.hX,S,T.lW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],encapsulation:2,changeDetection:0}),c=(0,L.gn)([(0,w.c)()],c);let f=class{constructor(n,t,i,o){this.formBuilder=n,this.router=t,this.authService=i,this.changeDetectorRef=o,this.routePaths=b.X,this.passwordRulesMessageMap={[u.MinLength]:"Must have at least 8 characters",[u.HasNumber]:"Must have at least 1 number",[u.HasUpperCase]:"Must have at least 1 upper case letter",[u.HasLowerCase]:"Must have at least 1 lower case letter",[u.HasSpecialCharacter]:"Must have at least 1 special character"},this.noPasswordMatchErrorKey=R,this.serverErrorKey=A,this.registrationForm=this.formBuilder.nonNullable.group({email:["",P],password:["",U],confirmPassword:["",s.kI.required],firstName:["",s.kI.maxLength(30)],lastName:["",s.kI.maxLength(30)]},{validators:[x.passwordMatchValidator]})}onSubmit(){if(!this.registrationForm.valid)return;const n=this.registrationForm.value;void 0!==n.email&&void 0!==n.password&&void 0!==n.firstName&&void 0!==n.lastName&&this.authService.register({email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName}).pipe((0,k.P)(),O(i=>{throw D(i.validationErrors,this.registrationForm),this.changeDetectorRef.markForCheck(),i}),(0,w.t)(this)).subscribe(()=>this.router.navigate([this.routePaths.home]))}};f.\u0275fac=function(n){return new(n||f)(e.Y36(s.qu),e.Y36(h.F0),e.Y36(q.e),e.Y36(e.sBO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["anime-registration"]],decls:40,vars:14,consts:[[1,"form-wrapper"],[1,"form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","email","type","email","name","email","placeholder","example@domain.com","autocomplete","email"],["class","text-danger",4,"ngIf"],["matInput","","type","text","formControlName","firstName","name","firstName","placeholder","Andrey","autocomplete","given-name"],["matInput","","type","text","formControlName","lastName","name","lastName","placeholder","Alekseev","autocomplete","family-name"],["matInput","","type","password","formControlName","password","name","password","autocomplete","new-password"],[1,"password-errors"],["class","password-errors__item",3,"ngClass",4,"ngFor","ngForOf"],["matInput","","type","password","formControlName","confirmPassword","name","password","autocomplete","new-password"],[4,"ngIf"],[1,"form__controls"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"routerLink"],[1,"text-danger"],[1,"password-errors__item",3,"ngClass"],[1,"material-icons"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Registration"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",3),e.YNc(8,te,2,0,"mat-error",4),e.YNc(9,re,2,1,"mat-error",4),e.qZA(),e.TgZ(10,"mat-form-field",2)(11,"mat-label"),e._uU(12,"First name"),e.qZA(),e._UZ(13,"input",5),e.YNc(14,ie,2,0,"mat-error",4),e.YNc(15,ne,2,1,"mat-error",4),e.qZA(),e.TgZ(16,"mat-form-field",2)(17,"mat-label"),e._uU(18,"Last name"),e.qZA(),e._UZ(19,"input",6),e.YNc(20,oe,2,0,"mat-error",4),e.YNc(21,se,2,1,"mat-error",4),e.qZA(),e.TgZ(22,"mat-form-field",2)(23,"mat-label"),e._uU(24,"Password"),e.qZA(),e._UZ(25,"input",7),e.YNc(26,ae,2,1,"mat-error",4),e.qZA(),e.TgZ(27,"ul",8),e.YNc(28,le,4,3,"li",9),e.ALo(29,"keyvalue"),e.qZA(),e.TgZ(30,"mat-form-field",2)(31,"mat-label"),e._uU(32,"Confirm password"),e.qZA(),e._UZ(33,"input",10),e.YNc(34,ue,2,0,"mat-error",11),e.qZA(),e.TgZ(35,"div",12)(36,"button",13),e._uU(37,"Submit"),e.qZA(),e.TgZ(38,"a",14),e._uU(39,"Already have an account?"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("formGroup",t.registrationForm),e.xp6(5),e.Q6J("ngIf",t.registrationForm.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",t.registrationForm.controls.email.hasError(t.serverErrorKey)),e.xp6(5),e.Q6J("ngIf",t.registrationForm.controls.firstName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",t.registrationForm.controls.firstName.hasError(t.serverErrorKey)),e.xp6(5),e.Q6J("ngIf",t.registrationForm.controls.lastName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",t.registrationForm.controls.lastName.hasError(t.serverErrorKey)),e.xp6(5),e.Q6J("ngIf",t.registrationForm.controls.password.hasError(t.serverErrorKey)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(29,12,t.passwordRulesMessageMap)),e.xp6(6),e.Q6J("ngIf",t.registrationForm.hasError(t.noPasswordMatchErrorKey)),e.xp6(2),e.Q6J("disabled",t.registrationForm.invalid),e.xp6(2),e.Q6J("routerLink",t.routePaths.login))},dependencies:[p.mk,p.sg,p.O5,h.yS,d.TO,d.KE,d.hX,S,T.lW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,p.Nd],styles:[".password-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:5px;padding-inline:unset;margin-block-start:unset}.password-errors[_ngcontent-%COMP%]   .password-errors__item[_ngcontent-%COMP%]{display:flex;list-style:none}"],changeDetection:0}),f=(0,L.gn)([(0,w.c)()],f);const me=[{path:"login",component:c,title:"Login"},{path:"registration",component:f,title:"Registration"}];let de=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.Bz.forChild(me),h.Bz]}),r})(),he=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,$.m,de,X,T.ot,s.UX]}),r})()}}]);