import{r as o,u as p,d as u,b as f,s as g,e as h,j as t,a,B as v,L as E,g as l,l as x,A as L}from"./index.2f770da4.js";import{c as b,a as w,p as S,u as F,T as c}from"./TextField.57a2f817.js";const N=b().shape({email:w().email("Invalid email").required("Required"),password:S}),y=()=>{const i=p(),m=u(),r=f(g),[s,n]=o.exports.useState(null);o.exports.useEffect(()=>{r!==void 0&&(e.setErrors(r.validationErrors),r.validationErrors.detail!==void 0&&n(r.validationErrors.detail))},[r]);const e=F({initialValues:{email:"",password:""},validationSchema:N,async onSubmit(d){(await i(x(d))).payload instanceof L||m(l.home)}});return o.exports.useEffect(()=>{s!==null&&n(null)},[e.values]),o.exports.useEffect(()=>()=>{i(h())},[]),t("form",{className:"form",onSubmit:e.handleSubmit,children:[a(c,{name:"email",autoComplete:"email",label:"Email",...e}),a(c,{name:"password",autoComplete:"current-password",label:"Password",type:"password",...e}),s!==null&&a("p",{className:"text-danger",children:s}),t("div",{className:"form__controls",children:[a(v,{type:"submit",variant:"contained",disabled:!e.isValid,children:"Submit"}),a(E,{to:l.registration,children:"Don't have account?"})]})]})},A=o.exports.memo(y),C=()=>t("div",{className:"form-wrapper",children:[a("h1",{children:"Login"}),a(A,{})]}),k=o.exports.memo(C);export{k as LoginPage};
