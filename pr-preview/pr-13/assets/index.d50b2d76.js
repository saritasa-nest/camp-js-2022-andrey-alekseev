import{r as e,u,d as h,b as g,s as f,e as v,a,j as i,T as E,B as x,L as F,g as c,l as b,A as L}from"./index.2f3106d7.js";import{c as w,a as S,p as y,u as C,F as P,b as k,d as m,T as d,e as A,f as T}from"./FormWrapper.1ce99c98.js";const V=w().shape({email:S().email("Invalid email").required("Required"),password:y}),j=()=>{const n=u(),p=h(),o=g(f),[s,l]=e.exports.useState(null);e.exports.useEffect(()=>{o!==void 0&&(r.setErrors(o.validationErrors),o.validationErrors.detail!==void 0&&l(o.validationErrors.detail))},[o]);const r=C({initialValues:{email:"",password:""},validationSchema:V,async onSubmit(t){(await n(b(t))).payload instanceof L||p(c.home)}});return e.exports.useEffect(()=>{s!==null&&l(null)},[r.values]),e.exports.useEffect(()=>()=>{n(v())},[]),a(P,{value:r,children:i(k,{onSubmit:r.handleSubmit,children:[a(m,{component:d,name:"email",autoComplete:"email",label:"Email"}),a(m,{component:d,name:"password",autoComplete:"current-password",label:"Password",type:"password"}),s!==null&&a(E,{sx:t=>({color:t.palette.error.main}),children:s}),i(A,{children:[a(x,{type:"submit",variant:"contained",disabled:!r.isValid,children:"Submit"}),a(F,{to:c.registration,children:"Don't have account?"})]})]})})},q=e.exports.memo(j),B=()=>i(T,{children:[a("h1",{children:"Login"}),a(q,{})]}),R=e.exports.memo(B);export{R as LoginPage};
