import{r as s,u,d as f,b as g,O as h,Q as w,j as n,a,B as v,L as E,g as d,S as b,A as x}from"./index.2f770da4.js";import{c as C,a as o,p as N,b as R,u as S,T as t}from"./TextField.57a2f817.js";const y=C().shape({email:o().email("Invalid email").required("Required"),firstName:o().max(255),lastName:o().max(255),password:N,passwordConfirmation:o().oneOf([R("password"),null],"Passwords must match")}),F=()=>{const l=u(),p=f(),r=g(h),[i,m]=s.exports.useState(null);s.exports.useEffect(()=>{r!==void 0&&(e.setErrors(r.validationErrors),r.validationErrors.detail!==void 0&&m(r.validationErrors.detail))},[r]);const e=S({initialValues:{email:"",firstName:"",lastName:"",password:"",passwordConfirmation:""},validationSchema:y,async onSubmit(c){(await l(b(c))).payload instanceof x||p(d.home)}});return s.exports.useEffect(()=>{i!==null&&m(null)},[e.values]),s.exports.useEffect(()=>()=>{l(w())},[]),n("form",{className:"form",onSubmit:e.handleSubmit,children:[a(t,{name:"email",autoComplete:"email",label:"Email",...e}),a(t,{name:"firstName",autoComplete:"given-name",label:"First name",...e}),a(t,{name:"lastName",autoComplete:"family-name",label:"Last name",...e}),a(t,{name:"password",autoComplete:"current-password",label:"Password",type:"password",...e}),a(t,{name:"passwordConfirmation",autoComplete:"current-password",label:"Confirm password",type:"password",...e}),i!==null&&a("p",{className:"text-danger",children:i}),n("div",{className:"form__controls",children:[a(v,{type:"submit",variant:"contained",disabled:!e.isValid,children:"Submit"}),a(E,{to:d.login,children:"Already have account?"})]})]})},A=s.exports.memo(F),P=()=>n("div",{className:"form-wrapper",children:[a("h1",{children:"Register"}),a(A,{})]}),L=s.exports.memo(P);export{L as RegisterPage};
